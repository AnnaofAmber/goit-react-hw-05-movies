{"version":3,"file":"static/js/496.c5c5f8f1.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '548e96f0a88257a9c2a7854f478e0cd8';\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  const { results } = data;\n  return results;\n};\n\nexport const fetchMovieByID = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_213key=${API_KEY}`\n  );\n  return data;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const { cast } = data;\n  return cast;\n};\n\nexport const fetchReview = async movieId => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const { results } = data;\n  return results;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await axios.get(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n  const { results } = data;\n  return results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loaderWrapper\":\"Loader_loaderWrapper__6ypwD\"};","import { ColorRing } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={css.loaderWrapper}>\n      <ColorRing\n        visible={true}\n        height=\"120\"\n        width=\"120\"\n        ariaLabel=\"blocks-loading\"\n        colors={['#F99417', '#d2cdfc', '#ffc374', '#d2cdfc', '#F99417']}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__Ys+c9\",\"options\":\"MovieDetails_options__GkKGb\",\"box_link\":\"MovieDetails_box_link__FQ0bY\",\"link_back\":\"MovieDetails_link_back__eznsm\",\"nav_link\":\"MovieDetails_nav_link__QFjvY\",\"active\":\"MovieDetails_active__uPNdW\"};","// extracted by mini-css-extract-plugin\nexport default {\"movie_container\":\"MovieInfo_movie_container__DsjsV\",\"img\":\"MovieInfo_img__fx+Ux\",\"info\":\"MovieInfo_info__z1mCF\",\"title\":\"MovieInfo_title__oNnRW\",\"undertitle\":\"MovieInfo_undertitle__dKtgr\",\"genre\":\"MovieInfo_genre__dEHVK\",\"overview\":\"MovieInfo_overview__yDlwF\"};","import css from './MovieInfo.module.css';\n\nexport const MovieInfo = ({ movie, genre }) => {\n  const { title, vote_average, poster_path, overview } = movie;\n  return (\n    <div className={css.movie_container}>\n      <img\n        className={css.img}\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/w300/${poster_path}`\n            : 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700'\n        }\n        alt={title}\n      />\n      <div className={css.info}>\n        <h2 className={css.title}>{title}</h2>\n        <div className={css.undertitle}>\n          <p className={css.genres}>\n            Genre: <span className={css.genre}>{genre}</span>\n          </p>\n          <p className={css.vote}> Rating: {(vote_average * 10).toFixed(1)}%</p>\n        </div>\n        <p className={css.overview}>{overview}</p>\n      </div>\n    </div>\n  );\n};\n","import css from './MovieDetails.module.css';\nimport Notiflix from 'notiflix';\n\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { useEffect, useState, lazy, Suspense, useRef } from 'react';\n\nimport { MovieInfo } from 'components/MovieInfo/MovieInfo';\nimport { Loader } from 'components/Loader/Loader';\nimport { fetchMovieByID } from 'api';\n\nconst Cast = lazy(() => import('../Cast/Cast'));\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  const [movieDetails, setMovieDetails] = useState([]);\n  const [movieGenres, setMovieGenres] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [apiError, setApiError] = useState(false);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        setIsLoading(true);\n        const result = await fetchMovieByID(movieId);\n        if (movieDetails.length === 0) {\n          setMovieDetails(result);\n        }\n\n        if (movieGenres.length === 0) {\n          const genre = result.genres.map(e => e.name).join(', ');\n          setMovieGenres(genre);\n        }\n      } catch (error) {\n        setApiError(true);\n        Notiflix.Notify.failure(\n          `Oops! Something went wrong! Error ${apiError} Try reloading the page!`\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [movieId, apiError, movieDetails, movieGenres]);\n\n  return (\n    <div className={css.container}>\n      <div className={css.box_link}>\n        <Link className={css.link_back} to={backLinkHref.current}>\n          Go back\n        </Link>\n      </div>\n      {isLoading && <Loader />}\n      {movieDetails.length > 0 && (\n        <div>\n          <MovieInfo movie={movieDetails} genre={movieGenres} />\n          <div className={css.options}>\n            <NavLink\n              className={({ isActive }) =>\n                `${css['nav_link']} ${isActive ? css.active : ''}`\n              }\n              to=\"cast\"\n            >\n              Cast\n            </NavLink>\n            <NavLink\n              className={({ isActive }) =>\n                `${css['nav_link']} ${isActive ? css.active : ''}`\n              }\n              to=\"reviews\"\n            >\n              Reviews\n            </NavLink>\n          </div>\n        </div>\n      )}\n      <div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"/cast\" element={<Cast />} />\n            <Route path=\"/reviews\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["BASE_URL","API_KEY","fetchTrendingMovies","axios","data","results","fetchMovieByID","movieId","fetchCast","cast","fetchReview","fetchMovieByName","query","Loader","className","css","visible","height","width","ariaLabel","colors","MovieInfo","movie","genre","title","vote_average","poster_path","overview","src","alt","toFixed","Cast","lazy","Reviews","useParams","location","useLocation","backLinkHref","useRef","state","from","useState","movieDetails","setMovieDetails","movieGenres","setMovieGenres","isLoading","setIsLoading","apiError","setApiError","useEffect","fetchMovie","result","length","genres","map","e","name","join","Notiflix","to","current","isActive","Suspense","fallback","path","element"],"sourceRoot":""}